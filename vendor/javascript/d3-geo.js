// d3-geo@1.7.1 downloaded from https://ga.jspm.io/npm:d3-geo@1.7.1/build/d3-geo.js

import n from"d3-array";var t="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof self?self:global;var r={};(function(t,e){e(r,n)})(r,(function(n,r){var adder=function(){return new Adder};function Adder(){this.reset()}Adder.prototype={constructor:Adder,reset:function(){(this||t).s=(this||t).t=0},add:function(n){add(e,n,(this||t).t);add(this||t,e.s,(this||t).s);(this||t).s?(this||t).t+=e.t:(this||t).s=e.t},valueOf:function(){return(this||t).s}};var e=new Adder;function add(n,t,r){var e=n.s=t+r,i=e-t,o=e-i;n.t=t-o+(r-i)}var i=1e-6;var o=1e-12;var a=Math.PI;var c=a/2;var u=a/4;var l=2*a;var s=180/a;var f=a/180;var p=Math.abs;var g=Math.atan;var v=Math.atan2;var d=Math.cos;var h=Math.ceil;var m=Math.exp;var E=Math.log;var S=Math.pow;var y=Math.sin;var P=Math.sign||function(n){return n>0?1:n<0?-1:0};var R=Math.sqrt;var w=Math.tan;function acos(n){return n>1?0:n<-1?a:Math.acos(n)}function asin(n){return n>1?c:n<-1?-c:Math.asin(n)}function haversin(n){return(n=y(n/2))*n}function noop(){}function streamGeometry(n,t){n&&x.hasOwnProperty(n.type)&&x[n.type](n,t)}var M={Feature:function(n,t){streamGeometry(n.geometry,t)},FeatureCollection:function(n,t){var r=n.features,e=-1,i=r.length;while(++e<i)streamGeometry(r[e].geometry,t)}};var x={Sphere:function(n,t){t.sphere()},Point:function(n,t){n=n.coordinates;t.point(n[0],n[1],n[2])},MultiPoint:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)n=r[e],t.point(n[0],n[1],n[2])},LineString:function(n,t){streamLine(n.coordinates,t,0)},MultiLineString:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)streamLine(r[e],t,0)},Polygon:function(n,t){streamPolygon(n.coordinates,t)},MultiPolygon:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)streamPolygon(r[e],t)},GeometryCollection:function(n,t){var r=n.geometries,e=-1,i=r.length;while(++e<i)streamGeometry(r[e],t)}};function streamLine(n,t,r){var e=-1,i=n.length-r,o;t.lineStart();while(++e<i)o=n[e],t.point(o[0],o[1],o[2]);t.lineEnd()}function streamPolygon(n,t){var r=-1,e=n.length;t.polygonStart();while(++r<e)streamLine(n[r],t,1);t.polygonEnd()}var geoStream=function(n,t){n&&M.hasOwnProperty(n.type)?M[n.type](n,t):streamGeometry(n,t)};var L=adder();var j=adder();var b;var C;var A;var N;var I;var _={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){L.reset();_.lineStart=areaRingStart;_.lineEnd=areaRingEnd},polygonEnd:function(){var n=+L;j.add(n<0?l+n:n);(this||t).lineStart=(this||t).lineEnd=(this||t).point=noop},sphere:function(){j.add(l)}};function areaRingStart(){_.point=areaPointFirst}function areaRingEnd(){areaPoint(b,C)}function areaPointFirst(n,t){_.point=areaPoint;b=n,C=t;n*=f,t*=f;A=n,N=d(t=t/2+u),I=y(t)}function areaPoint(n,t){n*=f,t*=f;t=t/2+u;var r=n-A,e=r>=0?1:-1,i=e*r,o=d(t),a=y(t),c=I*a,l=N*o+c*d(i),s=c*e*y(i);L.add(v(s,l));A=n,N=o,I=a}var area=function(n){j.reset();geoStream(n,_);return 2*j};function spherical(n){return[v(n[1],n[0]),asin(n[2])]}function cartesian(n){var t=n[0],r=n[1],e=d(r);return[e*d(t),e*y(t),y(r)]}function cartesianDot(n,t){return n[0]*t[0]+n[1]*t[1]+n[2]*t[2]}function cartesianCross(n,t){return[n[1]*t[2]-n[2]*t[1],n[2]*t[0]-n[0]*t[2],n[0]*t[1]-n[1]*t[0]]}function cartesianAddInPlace(n,t){n[0]+=t[0],n[1]+=t[1],n[2]+=t[2]}function cartesianScale(n,t){return[n[0]*t,n[1]*t,n[2]*t]}function cartesianNormalizeInPlace(n){var t=R(n[0]*n[0]+n[1]*n[1]+n[2]*n[2]);n[0]/=t,n[1]/=t,n[2]/=t}var $;var q;var z;var T;var G;var F;var U;var O;var k=adder();var D;var X;var Y={point:boundsPoint,lineStart:boundsLineStart,lineEnd:boundsLineEnd,polygonStart:function(){Y.point=boundsRingPoint;Y.lineStart=boundsRingStart;Y.lineEnd=boundsRingEnd;k.reset();_.polygonStart()},polygonEnd:function(){_.polygonEnd();Y.point=boundsPoint;Y.lineStart=boundsLineStart;Y.lineEnd=boundsLineEnd;L<0?($=-(z=180),q=-(T=90)):k>i?T=90:k<-i&&(q=-90);X[0]=$,X[1]=z}};function boundsPoint(n,t){D.push(X=[$=n,z=n]);t<q&&(q=t);t>T&&(T=t)}function linePoint(n,t){var r=cartesian([n*f,t*f]);if(O){var e=cartesianCross(O,r),i=[e[1],-e[0],0],o=cartesianCross(i,e);cartesianNormalizeInPlace(o);o=spherical(o);var a=n-G,c=a>0?1:-1,u=o[0]*s*c,l,g=p(a)>180;if(g^(c*G<u&&u<c*n)){l=o[1]*s;l>T&&(T=l)}else if(u=(u+360)%360-180,g^(c*G<u&&u<c*n)){l=-o[1]*s;l<q&&(q=l)}else{t<q&&(q=t);t>T&&(T=t)}if(g)n<G?angle($,n)>angle($,z)&&(z=n):angle(n,z)>angle($,z)&&($=n);else if(z>=$){n<$&&($=n);n>z&&(z=n)}else n>G?angle($,n)>angle($,z)&&(z=n):angle(n,z)>angle($,z)&&($=n)}else D.push(X=[$=n,z=n]);t<q&&(q=t);t>T&&(T=t);O=r,G=n}function boundsLineStart(){Y.point=linePoint}function boundsLineEnd(){X[0]=$,X[1]=z;Y.point=boundsPoint;O=null}function boundsRingPoint(n,t){if(O){var r=n-G;k.add(p(r)>180?r+(r>0?360:-360):r)}else F=n,U=t;_.point(n,t);linePoint(n,t)}function boundsRingStart(){_.lineStart()}function boundsRingEnd(){boundsRingPoint(F,U);_.lineEnd();p(k)>i&&($=-(z=180));X[0]=$,X[1]=z;O=null}function angle(n,t){return(t-=n)<0?t+360:t}function rangeCompare(n,t){return n[0]-t[0]}function rangeContains(n,t){return n[0]<=n[1]?n[0]<=t&&t<=n[1]:t<n[0]||n[1]<t}var bounds=function(n){var t,r,e,i,o,a,c;T=z=-($=q=Infinity);D=[];geoStream(n,Y);if(r=D.length){D.sort(rangeCompare);for(t=1,e=D[0],o=[e];t<r;++t){i=D[t];if(rangeContains(e,i[0])||rangeContains(e,i[1])){angle(e[0],i[1])>angle(e[0],e[1])&&(e[1]=i[1]);angle(i[0],e[1])>angle(e[0],e[1])&&(e[0]=i[0])}else o.push(e=i)}for(a=-Infinity,r=o.length-1,t=0,e=o[r];t<=r;e=i,++t){i=o[t];(c=angle(e[1],i[0]))>a&&(a=c,$=i[0],z=e[1])}}D=X=null;return Infinity===$||Infinity===q?[[NaN,NaN],[NaN,NaN]]:[[$,q],[z,T]]};var B;var Z;var H;var J;var K;var Q;var V;var W;var nn;var tn;var rn;var en;var on;var an;var cn;var un;var ln={sphere:noop,point:centroidPoint,lineStart:centroidLineStart,lineEnd:centroidLineEnd,polygonStart:function(){ln.lineStart=centroidRingStart;ln.lineEnd=centroidRingEnd},polygonEnd:function(){ln.lineStart=centroidLineStart;ln.lineEnd=centroidLineEnd}};function centroidPoint(n,t){n*=f,t*=f;var r=d(t);centroidPointCartesian(r*d(n),r*y(n),y(t))}function centroidPointCartesian(n,t,r){++B;H+=(n-H)/B;J+=(t-J)/B;K+=(r-K)/B}function centroidLineStart(){ln.point=centroidLinePointFirst}function centroidLinePointFirst(n,t){n*=f,t*=f;var r=d(t);an=r*d(n);cn=r*y(n);un=y(t);ln.point=centroidLinePoint;centroidPointCartesian(an,cn,un)}function centroidLinePoint(n,t){n*=f,t*=f;var r=d(t),e=r*d(n),i=r*y(n),o=y(t),a=v(R((a=cn*o-un*i)*a+(a=un*e-an*o)*a+(a=an*i-cn*e)*a),an*e+cn*i+un*o);Z+=a;Q+=a*(an+(an=e));V+=a*(cn+(cn=i));W+=a*(un+(un=o));centroidPointCartesian(an,cn,un)}function centroidLineEnd(){ln.point=centroidPoint}function centroidRingStart(){ln.point=centroidRingPointFirst}function centroidRingEnd(){centroidRingPoint(en,on);ln.point=centroidPoint}function centroidRingPointFirst(n,t){en=n,on=t;n*=f,t*=f;ln.point=centroidRingPoint;var r=d(t);an=r*d(n);cn=r*y(n);un=y(t);centroidPointCartesian(an,cn,un)}function centroidRingPoint(n,t){n*=f,t*=f;var r=d(t),e=r*d(n),i=r*y(n),o=y(t),a=cn*o-un*i,c=un*e-an*o,u=an*i-cn*e,l=R(a*a+c*c+u*u),s=asin(l),p=l&&-s/l;nn+=p*a;tn+=p*c;rn+=p*u;Z+=s;Q+=s*(an+(an=e));V+=s*(cn+(cn=i));W+=s*(un+(un=o));centroidPointCartesian(an,cn,un)}var centroid=function(n){B=Z=H=J=K=Q=V=W=nn=tn=rn=0;geoStream(n,ln);var t=nn,r=tn,e=rn,a=t*t+r*r+e*e;if(a<o){t=Q,r=V,e=W;Z<i&&(t=H,r=J,e=K);a=t*t+r*r+e*e;if(a<o)return[NaN,NaN]}return[v(r,t)*s,asin(e/R(a))*s]};var constant=function(n){return function(){return n}};var compose=function(n,t){function compose(r,e){return r=n(r,e),t(r[0],r[1])}n.invert&&t.invert&&(compose.invert=function(r,e){return r=t.invert(r,e),r&&n.invert(r[0],r[1])});return compose};function rotationIdentity(n,t){return[n>a?n-l:n<-a?n+l:n,t]}rotationIdentity.invert=rotationIdentity;function rotateRadians(n,t,r){return(n%=l)?t||r?compose(rotationLambda(n),rotationPhiGamma(t,r)):rotationLambda(n):t||r?rotationPhiGamma(t,r):rotationIdentity}function forwardRotationLambda(n){return function(t,r){return t+=n,[t>a?t-l:t<-a?t+l:t,r]}}function rotationLambda(n){var t=forwardRotationLambda(n);t.invert=forwardRotationLambda(-n);return t}function rotationPhiGamma(n,t){var r=d(n),e=y(n),i=d(t),o=y(t);function rotation(n,t){var a=d(t),c=d(n)*a,u=y(n)*a,l=y(t),s=l*r+c*e;return[v(u*i-s*o,c*r-l*e),asin(s*i+u*o)]}rotation.invert=function(n,t){var a=d(t),c=d(n)*a,u=y(n)*a,l=y(t),s=l*i-u*o;return[v(u*i+l*o,c*r+s*e),asin(s*r-c*e)]};return rotation}var rotation=function(n){n=rotateRadians(n[0]*f,n[1]*f,n.length>2?n[2]*f:0);function forward(t){t=n(t[0]*f,t[1]*f);return t[0]*=s,t[1]*=s,t}forward.invert=function(t){t=n.invert(t[0]*f,t[1]*f);return t[0]*=s,t[1]*=s,t};return forward};function circleStream(n,t,r,e,i,o){if(r){var a=d(t),c=y(t),u=e*r;if(null==i){i=t+e*l;o=t-u/2}else{i=circleRadius(a,i);o=circleRadius(a,o);(e>0?i<o:i>o)&&(i+=e*l)}for(var s,f=i;e>0?f>o:f<o;f-=u){s=spherical([a,-c*d(f),-c*y(f)]);n.point(s[0],s[1])}}}function circleRadius(n,t){t=cartesian(t),t[0]-=n;cartesianNormalizeInPlace(t);var r=acos(-t[1]);return((-t[2]<0?-r:r)+l-i)%l}var circle=function(){var n=constant([0,0]),r=constant(90),e=constant(6),i,o,a={point:point};function point(n,t){i.push(n=o(n,t));n[0]*=s,n[1]*=s}function circle(){var c=n.apply(this||t,arguments),u=r.apply(this||t,arguments)*f,l=e.apply(this||t,arguments)*f;i=[];o=rotateRadians(-c[0]*f,-c[1]*f,0).invert;circleStream(a,u,l,1);c={type:"Polygon",coordinates:[i]};i=o=null;return c}circle.center=function(t){return arguments.length?(n="function"===typeof t?t:constant([+t[0],+t[1]]),circle):n};circle.radius=function(n){return arguments.length?(r="function"===typeof n?n:constant(+n),circle):r};circle.precision=function(n){return arguments.length?(e="function"===typeof n?n:constant(+n),circle):e};return circle};var clipBuffer=function(){var n=[],t;return{point:function(n,r){t.push([n,r])},lineStart:function(){n.push(t=[])},lineEnd:noop,rejoin:function(){n.length>1&&n.push(n.pop().concat(n.shift()))},result:function(){var r=n;n=[];t=null;return r}}};var clipLine=function(n,t,r,e,i,o){var a=n[0],c=n[1],u=t[0],l=t[1],s=0,f=1,p=u-a,g=l-c,v;v=r-a;if(p||!(v>0)){v/=p;if(p<0){if(v<s)return;v<f&&(f=v)}else if(p>0){if(v>f)return;v>s&&(s=v)}v=i-a;if(p||!(v<0)){v/=p;if(p<0){if(v>f)return;v>s&&(s=v)}else if(p>0){if(v<s)return;v<f&&(f=v)}v=e-c;if(g||!(v>0)){v/=g;if(g<0){if(v<s)return;v<f&&(f=v)}else if(g>0){if(v>f)return;v>s&&(s=v)}v=o-c;if(g||!(v<0)){v/=g;if(g<0){if(v>f)return;v>s&&(s=v)}else if(g>0){if(v<s)return;v<f&&(f=v)}s>0&&(n[0]=a+s*p,n[1]=c+s*g);f<1&&(t[0]=a+f*p,t[1]=c+f*g);return true}}}}};var pointEqual=function(n,t){return p(n[0]-t[0])<i&&p(n[1]-t[1])<i};function Intersection(n,r,e,i){(this||t).x=n;(this||t).z=r;(this||t).o=e;(this||t).e=i;(this||t).v=false;(this||t).n=(this||t).p=null}var clipPolygon=function(n,t,r,e,i){var o=[],a=[],c,u;n.forEach((function(n){if(!((t=n.length-1)<=0)){var t,r=n[0],e=n[t],u;if(pointEqual(r,e)){i.lineStart();for(c=0;c<t;++c)i.point((r=n[c])[0],r[1]);i.lineEnd()}else{o.push(u=new Intersection(r,n,null,true));a.push(u.o=new Intersection(r,null,u,false));o.push(u=new Intersection(e,n,null,false));a.push(u.o=new Intersection(e,null,u,true))}}}));if(o.length){a.sort(t);link(o);link(a);for(c=0,u=a.length;c<u;++c)a[c].e=r=!r;var l=o[0],s,f;while(1){var p=l,g=true;while(p.v)if((p=p.n)===l)return;s=p.z;i.lineStart();do{p.v=p.o.v=true;if(p.e){if(g)for(c=0,u=s.length;c<u;++c)i.point((f=s[c])[0],f[1]);else e(p.x,p.n.x,1,i);p=p.n}else{if(g){s=p.p.z;for(c=s.length-1;c>=0;--c)i.point((f=s[c])[0],f[1])}else e(p.x,p.p.x,-1,i);p=p.p}p=p.o;s=p.z;g=!g}while(!p.v);i.lineEnd()}}};function link(n){if(t=n.length){var t,r=0,e=n[0],i;while(++r<t){e.n=i=n[r];i.p=e;e=i}e.n=i=n[0];i.p=e}}var sn=1e9;var fn=-sn;function clipExtent(n,t,e,o){function visible(r,i){return n<=r&&r<=e&&t<=i&&i<=o}function interpolate(r,i,a,c){var u=0,l=0;if(null==r||(u=corner(r,a))!==(l=corner(i,a))||comparePoint(r,i)<0^a>0)do{c.point(0===u||3===u?n:e,u>1?o:t)}while((u=(u+a+4)%4)!==l);else c.point(i[0],i[1])}function corner(r,o){return p(r[0]-n)<i?o>0?0:3:p(r[0]-e)<i?o>0?2:1:p(r[1]-t)<i?o>0?1:0:o>0?3:2}function compareIntersection(n,t){return comparePoint(n.x,t.x)}function comparePoint(n,t){var r=corner(n,1),e=corner(t,1);return r!==e?r-e:0===r?t[1]-n[1]:1===r?n[0]-t[0]:2===r?n[1]-t[1]:t[0]-n[0]}return function(i){var a=i,c=clipBuffer(),u,l,s,f,p,g,v,d,h,m,E;var S={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:polygonStart,polygonEnd:polygonEnd};function point(n,t){visible(n,t)&&a.point(n,t)}function polygonInside(){var t=0;for(var r=0,e=l.length;r<e;++r)for(var i=l[r],a=1,c=i.length,u=i[0],s,f,p=u[0],g=u[1];a<c;++a){s=p,f=g,u=i[a],p=u[0],g=u[1];f<=o?g>o&&(p-s)*(o-f)>(g-f)*(n-s)&&++t:g<=o&&(p-s)*(o-f)<(g-f)*(n-s)&&--t}return t}function polygonStart(){a=c,u=[],l=[],E=true}function polygonEnd(){var n=polygonInside(),t=E&&n,e=(u=r.merge(u)).length;if(t||e){i.polygonStart();if(t){i.lineStart();interpolate(null,null,1,i);i.lineEnd()}e&&clipPolygon(u,compareIntersection,n,interpolate,i);i.polygonEnd()}a=i,u=l=s=null}function lineStart(){S.point=linePoint;l&&l.push(s=[]);m=true;h=false;v=d=NaN}function lineEnd(){if(u){linePoint(f,p);g&&h&&c.rejoin();u.push(c.result())}S.point=point;h&&a.lineEnd()}function linePoint(r,i){var c=visible(r,i);l&&s.push([r,i]);if(m){f=r,p=i,g=c;m=false;if(c){a.lineStart();a.point(r,i)}}else if(c&&h)a.point(r,i);else{var u=[v=Math.max(fn,Math.min(sn,v)),d=Math.max(fn,Math.min(sn,d))],S=[r=Math.max(fn,Math.min(sn,r)),i=Math.max(fn,Math.min(sn,i))];if(clipLine(u,S,n,t,e,o)){if(!h){a.lineStart();a.point(u[0],u[1])}a.point(S[0],S[1]);c||a.lineEnd();E=false}else if(c){a.lineStart();a.point(r,i);E=false}}v=r,d=i,h=c}return S}}var extent=function(){var n=0,t=0,r=960,e=500,i,o,a;return a={stream:function(a){return i&&o===a?i:i=clipExtent(n,t,r,e)(o=a)},extent:function(c){return arguments.length?(n=+c[0][0],t=+c[0][1],r=+c[1][0],e=+c[1][1],i=o=null,a):[[n,t],[r,e]]}}};var pn=adder();var polygonContains=function(n,t){var r=t[0],e=t[1],o=[y(r),-d(r),0],c=0,s=0;pn.reset();for(var f=0,p=n.length;f<p;++f)if(h=(g=n[f]).length){var g,h,m=g[h-1],E=m[0],S=m[1]/2+u,P=y(S),R=d(S);for(var w=0;w<h;++w,E=x,P=j,R=b,m=M){var M=g[w],x=M[0],L=M[1]/2+u,j=y(L),b=d(L),C=x-E,A=C>=0?1:-1,N=A*C,I=N>a,_=P*j;pn.add(v(_*A*y(N),R*b+_*d(N)));c+=I?C+A*l:C;if(I^E>=r^x>=r){var $=cartesianCross(cartesian(m),cartesian(M));cartesianNormalizeInPlace($);var q=cartesianCross(o,$);cartesianNormalizeInPlace(q);var z=(I^C>=0?-1:1)*asin(q[2]);(e>z||e===z&&($[0]||$[1]))&&(s+=I^C>=0?1:-1)}}}return(c<-i||c<i&&pn<-i)^1&s};var gn=adder();var vn;var dn;var hn;var mn={sphere:noop,point:noop,lineStart:lengthLineStart,lineEnd:noop,polygonStart:noop,polygonEnd:noop};function lengthLineStart(){mn.point=lengthPointFirst;mn.lineEnd=lengthLineEnd}function lengthLineEnd(){mn.point=mn.lineEnd=noop}function lengthPointFirst(n,t){n*=f,t*=f;vn=n,dn=y(t),hn=d(t);mn.point=lengthPoint}function lengthPoint(n,t){n*=f,t*=f;var r=y(t),e=d(t),i=p(n-vn),o=d(i),a=y(i),c=e*a,u=hn*r-dn*e*o,l=dn*r+hn*e*o;gn.add(v(R(c*c+u*u),l));vn=n,dn=r,hn=e}var length=function(n){gn.reset();geoStream(n,mn);return+gn};var En=[null,null];var Sn={type:"LineString",coordinates:En};var distance=function(n,t){En[0]=n;En[1]=t;return length(Sn)};var yn={Feature:function(n,t){return containsGeometry(n.geometry,t)},FeatureCollection:function(n,t){var r=n.features,e=-1,i=r.length;while(++e<i)if(containsGeometry(r[e].geometry,t))return true;return false}};var Pn={Sphere:function(){return true},Point:function(n,t){return containsPoint(n.coordinates,t)},MultiPoint:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)if(containsPoint(r[e],t))return true;return false},LineString:function(n,t){return containsLine(n.coordinates,t)},MultiLineString:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)if(containsLine(r[e],t))return true;return false},Polygon:function(n,t){return containsPolygon(n.coordinates,t)},MultiPolygon:function(n,t){var r=n.coordinates,e=-1,i=r.length;while(++e<i)if(containsPolygon(r[e],t))return true;return false},GeometryCollection:function(n,t){var r=n.geometries,e=-1,i=r.length;while(++e<i)if(containsGeometry(r[e],t))return true;return false}};function containsGeometry(n,t){return!(!n||!Pn.hasOwnProperty(n.type))&&Pn[n.type](n,t)}function containsPoint(n,t){return 0===distance(n,t)}function containsLine(n,t){var r=distance(n[0],n[1]),e=distance(n[0],t),o=distance(t,n[1]);return e+o<=r+i}function containsPolygon(n,t){return!!polygonContains(n.map(ringRadians),pointRadians(t))}function ringRadians(n){return n=n.map(pointRadians),n.pop(),n}function pointRadians(n){return[n[0]*f,n[1]*f]}var contains=function(n,t){return(n&&yn.hasOwnProperty(n.type)?yn[n.type]:containsGeometry)(n,t)};function graticuleX(n,t,e){var o=r.range(n,t-i,e).concat(t);return function(n){return o.map((function(t){return[n,t]}))}}function graticuleY(n,t,e){var o=r.range(n,t-i,e).concat(t);return function(n){return o.map((function(t){return[t,n]}))}}function graticule(){var n,t,e,o,a,c,u,l,s=10,f=s,g=90,v=360,d,m,E,S,y=2.5;function graticule(){return{type:"MultiLineString",coordinates:lines()}}function lines(){return r.range(h(o/g)*g,e,g).map(E).concat(r.range(h(l/v)*v,u,v).map(S)).concat(r.range(h(t/s)*s,n,s).filter((function(n){return p(n%g)>i})).map(d)).concat(r.range(h(c/f)*f,a,f).filter((function(n){return p(n%v)>i})).map(m))}graticule.lines=function(){return lines().map((function(n){return{type:"LineString",coordinates:n}}))};graticule.outline=function(){return{type:"Polygon",coordinates:[E(o).concat(S(u).slice(1),E(e).reverse().slice(1),S(l).reverse().slice(1))]}};graticule.extent=function(n){return arguments.length?graticule.extentMajor(n).extentMinor(n):graticule.extentMinor()};graticule.extentMajor=function(n){if(!arguments.length)return[[o,l],[e,u]];o=+n[0][0],e=+n[1][0];l=+n[0][1],u=+n[1][1];o>e&&(n=o,o=e,e=n);l>u&&(n=l,l=u,u=n);return graticule.precision(y)};graticule.extentMinor=function(r){if(!arguments.length)return[[t,c],[n,a]];t=+r[0][0],n=+r[1][0];c=+r[0][1],a=+r[1][1];t>n&&(r=t,t=n,n=r);c>a&&(r=c,c=a,a=r);return graticule.precision(y)};graticule.step=function(n){return arguments.length?graticule.stepMajor(n).stepMinor(n):graticule.stepMinor()};graticule.stepMajor=function(n){if(!arguments.length)return[g,v];g=+n[0],v=+n[1];return graticule};graticule.stepMinor=function(n){if(!arguments.length)return[s,f];s=+n[0],f=+n[1];return graticule};graticule.precision=function(r){if(!arguments.length)return y;y=+r;d=graticuleX(c,a,90);m=graticuleY(t,n,y);E=graticuleX(l,u,90);S=graticuleY(o,e,y);return graticule};return graticule.extentMajor([[-180,-90+i],[180,90-i]]).extentMinor([[-180,-80-i],[180,80+i]])}function graticule10(){return graticule()()}var interpolate=function(n,t){var r=n[0]*f,e=n[1]*f,i=t[0]*f,o=t[1]*f,a=d(e),c=y(e),u=d(o),l=y(o),p=a*d(r),g=a*y(r),h=u*d(i),m=u*y(i),E=2*asin(R(haversin(o-e)+a*u*haversin(i-r))),S=y(E);var P=E?function(n){var t=y(n*=E)/S,r=y(E-n)/S,e=r*p+t*h,i=r*g+t*m,o=r*c+t*l;return[v(i,e)*s,v(o,R(e*e+i*i))*s]}:function(){return[r*s,e*s]};P.distance=E;return P};var identity=function(n){return n};var Rn=adder();var wn=adder();var Mn;var xn;var Ln;var jn;var bn={point:noop,lineStart:noop,lineEnd:noop,polygonStart:function(){bn.lineStart=areaRingStart$1;bn.lineEnd=areaRingEnd$1},polygonEnd:function(){bn.lineStart=bn.lineEnd=bn.point=noop;Rn.add(p(wn));wn.reset()},result:function(){var n=Rn/2;Rn.reset();return n}};function areaRingStart$1(){bn.point=areaPointFirst$1}function areaPointFirst$1(n,t){bn.point=areaPoint$1;Mn=Ln=n,xn=jn=t}function areaPoint$1(n,t){wn.add(jn*n-Ln*t);Ln=n,jn=t}function areaRingEnd$1(){areaPoint$1(Mn,xn)}var Cn=Infinity;var An=Cn;var Nn=-Cn;var In=Nn;var _n={point:boundsPoint$1,lineStart:noop,lineEnd:noop,polygonStart:noop,polygonEnd:noop,result:function(){var n=[[Cn,An],[Nn,In]];Nn=In=-(An=Cn=Infinity);return n}};function boundsPoint$1(n,t){n<Cn&&(Cn=n);n>Nn&&(Nn=n);t<An&&(An=t);t>In&&(In=t)}var $n=0;var qn=0;var zn=0;var Tn=0;var Gn=0;var Fn=0;var Un=0;var On=0;var kn=0;var Dn;var Xn;var Yn;var Bn;var Zn={point:centroidPoint$1,lineStart:centroidLineStart$1,lineEnd:centroidLineEnd$1,polygonStart:function(){Zn.lineStart=centroidRingStart$1;Zn.lineEnd=centroidRingEnd$1},polygonEnd:function(){Zn.point=centroidPoint$1;Zn.lineStart=centroidLineStart$1;Zn.lineEnd=centroidLineEnd$1},result:function(){var n=kn?[Un/kn,On/kn]:Fn?[Tn/Fn,Gn/Fn]:zn?[$n/zn,qn/zn]:[NaN,NaN];$n=qn=zn=Tn=Gn=Fn=Un=On=kn=0;return n}};function centroidPoint$1(n,t){$n+=n;qn+=t;++zn}function centroidLineStart$1(){Zn.point=centroidPointFirstLine}function centroidPointFirstLine(n,t){Zn.point=centroidPointLine;centroidPoint$1(Yn=n,Bn=t)}function centroidPointLine(n,t){var r=n-Yn,e=t-Bn,i=R(r*r+e*e);Tn+=i*(Yn+n)/2;Gn+=i*(Bn+t)/2;Fn+=i;centroidPoint$1(Yn=n,Bn=t)}function centroidLineEnd$1(){Zn.point=centroidPoint$1}function centroidRingStart$1(){Zn.point=centroidPointFirstRing}function centroidRingEnd$1(){centroidPointRing(Dn,Xn)}function centroidPointFirstRing(n,t){Zn.point=centroidPointRing;centroidPoint$1(Dn=Yn=n,Xn=Bn=t)}function centroidPointRing(n,t){var r=n-Yn,e=t-Bn,i=R(r*r+e*e);Tn+=i*(Yn+n)/2;Gn+=i*(Bn+t)/2;Fn+=i;i=Bn*n-Yn*t;Un+=i*(Yn+n);On+=i*(Bn+t);kn+=3*i;centroidPoint$1(Yn=n,Bn=t)}function PathContext(n){(this||t)._context=n}PathContext.prototype={_radius:4.5,pointRadius:function(n){return(this||t)._radius=n,this||t},polygonStart:function(){(this||t)._line=0},polygonEnd:function(){(this||t)._line=NaN},lineStart:function(){(this||t)._point=0},lineEnd:function(){0===(this||t)._line&&(this||t)._context.closePath();(this||t)._point=NaN},point:function(n,r){switch((this||t)._point){case 0:(this||t)._context.moveTo(n,r);(this||t)._point=1;break;case 1:(this||t)._context.lineTo(n,r);break;default:(this||t)._context.moveTo(n+(this||t)._radius,r);(this||t)._context.arc(n,r,(this||t)._radius,0,l);break}},result:noop};var Hn=adder();var Jn;var Kn;var Qn;var Vn;var Wn;var nt={point:noop,lineStart:function(){nt.point=lengthPointFirst$1},lineEnd:function(){Jn&&lengthPoint$1(Kn,Qn);nt.point=noop},polygonStart:function(){Jn=true},polygonEnd:function(){Jn=null},result:function(){var n=+Hn;Hn.reset();return n}};function lengthPointFirst$1(n,t){nt.point=lengthPoint$1;Kn=Vn=n,Qn=Wn=t}function lengthPoint$1(n,t){Vn-=n,Wn-=t;Hn.add(R(Vn*Vn+Wn*Wn));Vn=n,Wn=t}function PathString(){(this||t)._string=[]}PathString.prototype={_radius:4.5,_circle:circle$1(4.5),pointRadius:function(n){(n=+n)!==(this||t)._radius&&((this||t)._radius=n,(this||t)._circle=null);return this||t},polygonStart:function(){(this||t)._line=0},polygonEnd:function(){(this||t)._line=NaN},lineStart:function(){(this||t)._point=0},lineEnd:function(){0===(this||t)._line&&(this||t)._string.push("Z");(this||t)._point=NaN},point:function(n,r){switch((this||t)._point){case 0:(this||t)._string.push("M",n,",",r);(this||t)._point=1;break;case 1:(this||t)._string.push("L",n,",",r);break;default:null==(this||t)._circle&&((this||t)._circle=circle$1((this||t)._radius));(this||t)._string.push("M",n,",",r,(this||t)._circle);break}},result:function(){if((this||t)._string.length){var n=(this||t)._string.join("");(this||t)._string=[];return n}return null}};function circle$1(n){return"m0,"+n+"a"+n+","+n+" 0 1,1 0,"+-2*n+"a"+n+","+n+" 0 1,1 0,"+2*n+"z"}var index=function(n,r){var e=4.5,i,o;function path(n){if(n){"function"===typeof e&&o.pointRadius(+e.apply(this||t,arguments));geoStream(n,i(o))}return o.result()}path.area=function(n){geoStream(n,i(bn));return bn.result()};path.measure=function(n){geoStream(n,i(nt));return nt.result()};path.bounds=function(n){geoStream(n,i(_n));return _n.result()};path.centroid=function(n){geoStream(n,i(Zn));return Zn.result()};path.projection=function(t){return arguments.length?(i=null==t?(n=null,identity):(n=t).stream,path):n};path.context=function(n){if(!arguments.length)return r;o=null==n?(r=null,new PathString):new PathContext(r=n);"function"!==typeof e&&o.pointRadius(e);return path};path.pointRadius=function(n){if(!arguments.length)return e;e="function"===typeof n?n:(o.pointRadius(+n),+n);return path};return path.projection(n).context(r)};var clip=function(n,t,e,i){return function(o,a){var c=t(a),u=o.invert(i[0],i[1]),l=clipBuffer(),s=t(l),f=false,p,g,v;var d={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){d.point=pointRing;d.lineStart=ringStart;d.lineEnd=ringEnd;g=[];p=[]},polygonEnd:function(){d.point=point;d.lineStart=lineStart;d.lineEnd=lineEnd;g=r.merge(g);var n=polygonContains(p,u);if(g.length){f||(a.polygonStart(),f=true);clipPolygon(g,compareIntersection,n,e,a)}else if(n){f||(a.polygonStart(),f=true);a.lineStart();e(null,null,1,a);a.lineEnd()}f&&(a.polygonEnd(),f=false);g=p=null},sphere:function(){a.polygonStart();a.lineStart();e(null,null,1,a);a.lineEnd();a.polygonEnd()}};function point(t,r){var e=o(t,r);n(t=e[0],r=e[1])&&a.point(t,r)}function pointLine(n,t){var r=o(n,t);c.point(r[0],r[1])}function lineStart(){d.point=pointLine;c.lineStart()}function lineEnd(){d.point=point;c.lineEnd()}function pointRing(n,t){v.push([n,t]);var r=o(n,t);s.point(r[0],r[1])}function ringStart(){s.lineStart();v=[]}function ringEnd(){pointRing(v[0][0],v[0][1]);s.lineEnd();var n=s.clean(),t=l.result(),r,e=t.length,i,o,c;v.pop();p.push(v);v=null;if(e)if(1&n){o=t[0];if((i=o.length-1)>0){f||(a.polygonStart(),f=true);a.lineStart();for(r=0;r<i;++r)a.point((c=o[r])[0],c[1]);a.lineEnd()}}else{e>1&&2&n&&t.push(t.pop().concat(t.shift()));g.push(t.filter(validSegment))}}return d}};function validSegment(n){return n.length>1}function compareIntersection(n,t){return((n=n.x)[0]<0?n[1]-c-i:c-n[1])-((t=t.x)[0]<0?t[1]-c-i:c-t[1])}var tt=clip((function(){return true}),clipAntimeridianLine,clipAntimeridianInterpolate,[-a,-c]);function clipAntimeridianLine(n){var t=NaN,r=NaN,e=NaN,o;return{lineStart:function(){n.lineStart();o=1},point:function(u,l){var s=u>0?a:-a,f=p(u-t);if(p(f-a)<i){n.point(t,r=(r+l)/2>0?c:-c);n.point(e,r);n.lineEnd();n.lineStart();n.point(s,r);n.point(u,r);o=0}else if(e!==s&&f>=a){p(t-e)<i&&(t-=e*i);p(u-s)<i&&(u-=s*i);r=clipAntimeridianIntersect(t,r,u,l);n.point(e,r);n.lineEnd();n.lineStart();n.point(s,r);o=0}n.point(t=u,r=l);e=s},lineEnd:function(){n.lineEnd();t=r=NaN},clean:function(){return 2-o}}}function clipAntimeridianIntersect(n,t,r,e){var o,a,c=y(n-r);return p(c)>i?g((y(t)*(a=d(e))*y(r)-y(e)*(o=d(t))*y(n))/(o*a*c)):(t+e)/2}function clipAntimeridianInterpolate(n,t,r,e){var o;if(null==n){o=r*c;e.point(-a,o);e.point(0,o);e.point(a,o);e.point(a,0);e.point(a,-o);e.point(0,-o);e.point(-a,-o);e.point(-a,0);e.point(-a,o)}else if(p(n[0]-t[0])>i){var u=n[0]<t[0]?a:-a;o=r*u/2;e.point(-u,o);e.point(0,o);e.point(u,o)}else e.point(t[0],t[1])}var clipCircle=function(n,t){var r=d(n),e=r>0,o=p(r)>i;function interpolate(r,e,i,o){circleStream(o,n,t,i,r,e)}function visible(n,t){return d(n)*d(t)>r}function clipLine(n){var t,r,c,u,l;return{lineStart:function(){u=c=false;l=1},point:function(s,f){var p=[s,f],g,v=visible(s,f),d=e?v?0:code(s,f):v?code(s+(s<0?a:-a),f):0;!t&&(u=c=v)&&n.lineStart();if(v!==c){g=intersect(t,p);if(!g||pointEqual(t,g)||pointEqual(p,g)){p[0]+=i;p[1]+=i;v=visible(p[0],p[1])}}if(v!==c){l=0;if(v){n.lineStart();g=intersect(p,t);n.point(g[0],g[1])}else{g=intersect(t,p);n.point(g[0],g[1]);n.lineEnd()}t=g}else if(o&&t&&e^v){var h;if(!(d&r)&&(h=intersect(p,t,true))){l=0;if(e){n.lineStart();n.point(h[0][0],h[0][1]);n.point(h[1][0],h[1][1]);n.lineEnd()}else{n.point(h[1][0],h[1][1]);n.lineEnd();n.lineStart();n.point(h[0][0],h[0][1])}}}!v||t&&pointEqual(t,p)||n.point(p[0],p[1]);t=p,c=v,r=d},lineEnd:function(){c&&n.lineEnd();t=null},clean:function(){return l|(u&&c)<<1}}}function intersect(n,t,e){var o=cartesian(n),c=cartesian(t);var u=[1,0,0],l=cartesianCross(o,c),s=cartesianDot(l,l),f=l[0],g=s-f*f;if(!g)return!e&&n;var v=r*s/g,d=-r*f/g,h=cartesianCross(u,l),m=cartesianScale(u,v),E=cartesianScale(l,d);cartesianAddInPlace(m,E);var S=h,y=cartesianDot(m,S),P=cartesianDot(S,S),w=y*y-P*(cartesianDot(m,m)-1);if(!(w<0)){var M=R(w),x=cartesianScale(S,(-y-M)/P);cartesianAddInPlace(x,m);x=spherical(x);if(!e)return x;var L=n[0],j=t[0],b=n[1],C=t[1],A;j<L&&(A=L,L=j,j=A);var N=j-L,I=p(N-a)<i,_=I||N<i;!I&&C<b&&(A=b,b=C,C=A);if(_?I?b+C>0^x[1]<(p(x[0]-L)<i?b:C):b<=x[1]&&x[1]<=C:N>a^(L<=x[0]&&x[0]<=j)){var $=cartesianScale(S,(-y+M)/P);cartesianAddInPlace($,m);return[x,spherical($)]}}}function code(t,r){var i=e?n:a-n,o=0;t<-i?o|=1:t>i&&(o|=2);r<-i?o|=4:r>i&&(o|=8);return o}return clip(visible,clipLine,interpolate,e?[0,-n]:[-a,n-a])};var transform=function(n){return{stream:transformer(n)}};function transformer(n){return function(t){var r=new TransformStream;for(var e in n)r[e]=n[e];r.stream=t;return r}}function TransformStream(){}TransformStream.prototype={constructor:TransformStream,point:function(n,r){(this||t).stream.point(n,r)},sphere:function(){(this||t).stream.sphere()},lineStart:function(){(this||t).stream.lineStart()},lineEnd:function(){(this||t).stream.lineEnd()},polygonStart:function(){(this||t).stream.polygonStart()},polygonEnd:function(){(this||t).stream.polygonEnd()}};function fitExtent(n,t,r){var e=t[1][0]-t[0][0],i=t[1][1]-t[0][1],o=n.clipExtent&&n.clipExtent();n.scale(150).translate([0,0]);null!=o&&n.clipExtent(null);geoStream(r,n.stream(_n));var a=_n.result(),c=Math.min(e/(a[1][0]-a[0][0]),i/(a[1][1]-a[0][1])),u=+t[0][0]+(e-c*(a[1][0]+a[0][0]))/2,l=+t[0][1]+(i-c*(a[1][1]+a[0][1]))/2;null!=o&&n.clipExtent(o);return n.scale(150*c).translate([u,l])}function fitSize(n,t,r){return fitExtent(n,[[0,0],t],r)}var rt=16;var et=d(30*f);var resample=function(n,t){return+t?resample$1(n,t):resampleNone(n)};function resampleNone(n){return transformer({point:function(r,e){r=n(r,e);(this||t).stream.point(r[0],r[1])}})}function resample$1(n,t){function resampleLineTo(r,e,o,a,c,u,l,s,f,g,d,h,m,E){var S=l-r,y=s-e,P=S*S+y*y;if(P>4*t&&m--){var w=a+g,M=c+d,x=u+h,L=R(w*w+M*M+x*x),j=asin(x/=L),b=p(p(x)-1)<i||p(o-f)<i?(o+f)/2:v(M,w),C=n(b,j),A=C[0],N=C[1],I=A-r,_=N-e,$=y*I-S*_;if($*$/P>t||p((S*I+y*_)/P-.5)>.3||a*g+c*d+u*h<et){resampleLineTo(r,e,o,a,c,u,A,N,b,w/=L,M/=L,x,m,E);E.point(A,N);resampleLineTo(A,N,b,w,M,x,l,s,f,g,d,h,m,E)}}}return function(t){var r,e,i,o,a,c,u,l,s,f,p,g;var v={point:point,lineStart:lineStart,lineEnd:lineEnd,polygonStart:function(){t.polygonStart();v.lineStart=ringStart},polygonEnd:function(){t.polygonEnd();v.lineStart=lineStart}};function point(r,e){r=n(r,e);t.point(r[0],r[1])}function lineStart(){l=NaN;v.point=linePoint;t.lineStart()}function linePoint(r,e){var i=cartesian([r,e]),o=n(r,e);resampleLineTo(l,s,u,f,p,g,l=o[0],s=o[1],u=r,f=i[0],p=i[1],g=i[2],rt,t);t.point(l,s)}function lineEnd(){v.point=point;t.lineEnd()}function ringStart(){lineStart();v.point=ringPoint;v.lineEnd=ringEnd}function ringPoint(n,t){linePoint(r=n,t),e=l,i=s,o=f,a=p,c=g;v.point=linePoint}function ringEnd(){resampleLineTo(l,s,u,f,p,g,e,i,r,o,a,c,rt,t);v.lineEnd=lineEnd;lineEnd()}return v}}var it=transformer({point:function(n,r){(this||t).stream.point(n*f,r*f)}});function projection(n){return projectionMutator((function(){return n}))()}function projectionMutator(n){var r,e=150,i=480,o=250,a,c,u=0,l=0,p=0,g=0,v=0,d,h,m=null,E=tt,S=null,y,P,w,M=identity,x=.5,L=resample(projectTransform,x),j,b;function projection(n){n=h(n[0]*f,n[1]*f);return[n[0]*e+a,c-n[1]*e]}function invert(n){n=h.invert((n[0]-a)/e,(c-n[1])/e);return n&&[n[0]*s,n[1]*s]}function projectTransform(n,t){return n=r(n,t),[n[0]*e+a,c-n[1]*e]}projection.stream=function(n){return j&&b===n?j:j=it(E(d,L(M(b=n))))};projection.clipAngle=function(n){return arguments.length?(E=+n?clipCircle(m=n*f,6*f):(m=null,tt),reset()):m*s};projection.clipExtent=function(n){return arguments.length?(M=null==n?(S=y=P=w=null,identity):clipExtent(S=+n[0][0],y=+n[0][1],P=+n[1][0],w=+n[1][1]),reset()):null==S?null:[[S,y],[P,w]]};projection.scale=function(n){return arguments.length?(e=+n,recenter()):e};projection.translate=function(n){return arguments.length?(i=+n[0],o=+n[1],recenter()):[i,o]};projection.center=function(n){return arguments.length?(u=n[0]%360*f,l=n[1]%360*f,recenter()):[u*s,l*s]};projection.rotate=function(n){return arguments.length?(p=n[0]%360*f,g=n[1]%360*f,v=n.length>2?n[2]%360*f:0,recenter()):[p*s,g*s,v*s]};projection.precision=function(n){return arguments.length?(L=resample(projectTransform,x=n*n),reset()):R(x)};projection.fitExtent=function(n,t){return fitExtent(projection,n,t)};projection.fitSize=function(n,t){return fitSize(projection,n,t)};function recenter(){h=compose(d=rotateRadians(p,g,v),r);var n=r(u,l);a=i-n[0]*e;c=o+n[1]*e;return reset()}function reset(){j=b=null;return projection}return function(){r=n.apply(this||t,arguments);projection.invert=r.invert&&invert;return recenter()}}function conicProjection(n){var t=0,r=a/3,e=projectionMutator(n),i=e(t,r);i.parallels=function(n){return arguments.length?e(t=n[0]*f,r=n[1]*f):[t*s,r*s]};return i}function cylindricalEqualAreaRaw(n){var t=d(n);function forward(n,r){return[n*t,y(r)/t]}forward.invert=function(n,r){return[n/t,asin(r*t)]};return forward}function conicEqualAreaRaw(n,t){var r=y(n),e=(r+y(t))/2;if(p(e)<i)return cylindricalEqualAreaRaw(n);var o=1+r*(2*e-r),a=R(o)/e;function project(n,t){var r=R(o-2*e*y(t))/e;return[r*y(n*=e),a-r*d(n)]}project.invert=function(n,t){var r=a-t;return[v(n,p(r))/e*P(r),asin((o-(n*n+r*r)*e*e)/(2*e))]};return project}var conicEqualArea=function(){return conicProjection(conicEqualAreaRaw).scale(155.424).center([0,33.6442])};var albers=function(){return conicEqualArea().parallels([29.5,45.5]).scale(1070).translate([480,250]).rotate([96,0]).center([-.6,38.7])};function multiplex(n){var t=n.length;return{point:function(r,e){var i=-1;while(++i<t)n[i].point(r,e)},sphere:function(){var r=-1;while(++r<t)n[r].sphere()},lineStart:function(){var r=-1;while(++r<t)n[r].lineStart()},lineEnd:function(){var r=-1;while(++r<t)n[r].lineEnd()},polygonStart:function(){var r=-1;while(++r<t)n[r].polygonStart()},polygonEnd:function(){var r=-1;while(++r<t)n[r].polygonEnd()}}}var albersUsa=function(){var n,t,r=albers(),e,o=conicEqualArea().rotate([154,0]).center([-2,58.5]).parallels([55,65]),a,c=conicEqualArea().rotate([157,0]).center([-3,19.9]).parallels([8,18]),u,l,s={point:function(n,t){l=[n,t]}};function albersUsa(n){var t=n[0],r=n[1];return l=null,(e.point(t,r),l)||(a.point(t,r),l)||(u.point(t,r),l)}albersUsa.invert=function(n){var t=r.scale(),e=r.translate(),i=(n[0]-e[0])/t,a=(n[1]-e[1])/t;return(a>=.12&&a<.234&&i>=-.425&&i<-.214?o:a>=.166&&a<.234&&i>=-.214&&i<-.115?c:r).invert(n)};albersUsa.stream=function(e){return n&&t===e?n:n=multiplex([r.stream(t=e),o.stream(e),c.stream(e)])};albersUsa.precision=function(n){if(!arguments.length)return r.precision();r.precision(n),o.precision(n),c.precision(n);return reset()};albersUsa.scale=function(n){if(!arguments.length)return r.scale();r.scale(n),o.scale(.35*n),c.scale(n);return albersUsa.translate(r.translate())};albersUsa.translate=function(n){if(!arguments.length)return r.translate();var t=r.scale(),l=+n[0],f=+n[1];e=r.translate(n).clipExtent([[l-.455*t,f-.238*t],[l+.455*t,f+.238*t]]).stream(s);a=o.translate([l-.307*t,f+.201*t]).clipExtent([[l-.425*t+i,f+.12*t+i],[l-.214*t-i,f+.234*t-i]]).stream(s);u=c.translate([l-.205*t,f+.212*t]).clipExtent([[l-.214*t+i,f+.166*t+i],[l-.115*t-i,f+.234*t-i]]).stream(s);return reset()};albersUsa.fitExtent=function(n,t){return fitExtent(albersUsa,n,t)};albersUsa.fitSize=function(n,t){return fitSize(albersUsa,n,t)};function reset(){n=t=null;return albersUsa}return albersUsa.scale(1070)};function azimuthalRaw(n){return function(t,r){var e=d(t),i=d(r),o=n(e*i);return[o*i*y(t),o*y(r)]}}function azimuthalInvert(n){return function(t,r){var e=R(t*t+r*r),i=n(e),o=y(i),a=d(i);return[v(t*o,e*a),asin(e&&r*o/e)]}}var ot=azimuthalRaw((function(n){return R(2/(1+n))}));ot.invert=azimuthalInvert((function(n){return 2*asin(n/2)}));var azimuthalEqualArea=function(){return projection(ot).scale(124.75).clipAngle(180-.001)};var at=azimuthalRaw((function(n){return(n=acos(n))&&n/y(n)}));at.invert=azimuthalInvert((function(n){return n}));var azimuthalEquidistant=function(){return projection(at).scale(79.4188).clipAngle(180-.001)};function mercatorRaw(n,t){return[n,E(w((c+t)/2))]}mercatorRaw.invert=function(n,t){return[n,2*g(m(t))-c]};var mercator=function(){return mercatorProjection(mercatorRaw).scale(961/l)};function mercatorProjection(n){var t=projection(n),r=t.center,e=t.scale,i=t.translate,o=t.clipExtent,c=null,u,l,s;t.scale=function(n){return arguments.length?(e(n),reclip()):e()};t.translate=function(n){return arguments.length?(i(n),reclip()):i()};t.center=function(n){return arguments.length?(r(n),reclip()):r()};t.clipExtent=function(n){return arguments.length?(null==n?c=u=l=s=null:(c=+n[0][0],u=+n[0][1],l=+n[1][0],s=+n[1][1]),reclip()):null==c?null:[[c,u],[l,s]]};function reclip(){var r=a*e(),i=t(rotation(t.rotate()).invert([0,0]));return o(null==c?[[i[0]-r,i[1]-r],[i[0]+r,i[1]+r]]:n===mercatorRaw?[[Math.max(i[0]-r,c),u],[Math.min(i[0]+r,l),s]]:[[c,Math.max(i[1]-r,u)],[l,Math.min(i[1]+r,s)]])}return reclip()}function tany(n){return w((c+n)/2)}function conicConformalRaw(n,t){var r=d(n),e=n===t?y(n):E(r/d(t))/E(tany(t)/tany(n)),o=r*S(tany(n),e)/e;if(!e)return mercatorRaw;function project(n,t){o>0?t<-c+i&&(t=-c+i):t>c-i&&(t=c-i);var r=o/S(tany(t),e);return[r*y(e*n),o-r*d(e*n)]}project.invert=function(n,t){var r=o-t,i=P(e)*R(n*n+r*r);return[v(n,p(r))/e*P(r),2*g(S(o/i,1/e))-c]};return project}var conicConformal=function(){return conicProjection(conicConformalRaw).scale(109.5).parallels([30,30])};function equirectangularRaw(n,t){return[n,t]}equirectangularRaw.invert=equirectangularRaw;var equirectangular=function(){return projection(equirectangularRaw).scale(152.63)};function conicEquidistantRaw(n,t){var r=d(n),e=n===t?y(n):(r-d(t))/(t-n),o=r/e+n;if(p(e)<i)return equirectangularRaw;function project(n,t){var r=o-t,i=e*n;return[r*y(i),o-r*d(i)]}project.invert=function(n,t){var r=o-t;return[v(n,p(r))/e*P(r),o-P(e)*R(n*n+r*r)]};return project}var conicEquidistant=function(){return conicProjection(conicEquidistantRaw).scale(131.154).center([0,13.9389])};function gnomonicRaw(n,t){var r=d(t),e=d(n)*r;return[r*y(n)/e,y(t)/e]}gnomonicRaw.invert=azimuthalInvert(g);var gnomonic=function(){return projection(gnomonicRaw).scale(144.049).clipAngle(60)};function scaleTranslate(n,r,e,i){return 1===n&&1===r&&0===e&&0===i?identity:transformer({point:function(o,a){(this||t).stream.point(o*n+e,a*r+i)}})}var identity$1=function(){var n=1,t=0,r=0,e=1,i=1,o=identity,a=null,c,u,l,s=identity,f,p,g;function reset(){f=p=null;return g}return g={stream:function(n){return f&&p===n?f:f=o(s(p=n))},clipExtent:function(n){return arguments.length?(s=null==n?(a=c=u=l=null,identity):clipExtent(a=+n[0][0],c=+n[0][1],u=+n[1][0],l=+n[1][1]),reset()):null==a?null:[[a,c],[u,l]]},scale:function(a){return arguments.length?(o=scaleTranslate((n=+a)*e,n*i,t,r),reset()):n},translate:function(a){return arguments.length?(o=scaleTranslate(n*e,n*i,t=+a[0],r=+a[1]),reset()):[t,r]},reflectX:function(a){return arguments.length?(o=scaleTranslate(n*(e=a?-1:1),n*i,t,r),reset()):e<0},reflectY:function(a){return arguments.length?(o=scaleTranslate(n*e,n*(i=a?-1:1),t,r),reset()):i<0},fitExtent:function(n,t){return fitExtent(g,n,t)},fitSize:function(n,t){return fitSize(g,n,t)}}};function naturalEarth1Raw(n,t){var r=t*t,e=r*r;return[n*(.8707-.131979*r+e*(-.013791+e*(.003971*r-.001529*e))),t*(1.007226+r*(.015085+e*(-.044475+.028874*r-.005916*e)))]}naturalEarth1Raw.invert=function(n,t){var r=t,e=25,o;do{var a=r*r,c=a*a;r-=o=(r*(1.007226+a*(.015085+c*(-.044475+.028874*a-.005916*c)))-t)/(1.007226+a*(.015085*3+c*(-.044475*7+.028874*9*a-.005916*11*c)))}while(p(o)>i&&--e>0);return[n/(.8707+(a=r*r)*(-.131979+a*(-.013791+a*a*a*(.003971-.001529*a)))),r]};var naturalEarth1=function(){return projection(naturalEarth1Raw).scale(175.295)};function orthographicRaw(n,t){return[d(t)*y(n),y(t)]}orthographicRaw.invert=azimuthalInvert(asin);var orthographic=function(){return projection(orthographicRaw).scale(249.5).clipAngle(90+i)};function stereographicRaw(n,t){var r=d(t),e=1+d(n)*r;return[r*y(n)/e,y(t)/e]}stereographicRaw.invert=azimuthalInvert((function(n){return 2*g(n)}));var stereographic=function(){return projection(stereographicRaw).scale(250).clipAngle(142)};function transverseMercatorRaw(n,t){return[E(w((c+t)/2)),-n]}transverseMercatorRaw.invert=function(n,t){return[-t,2*g(m(n))-c]};var transverseMercator=function(){var n=mercatorProjection(transverseMercatorRaw),t=n.center,r=n.rotate;n.center=function(n){return arguments.length?t([-n[1],n[0]]):(n=t(),[n[1],-n[0]])};n.rotate=function(n){return arguments.length?r([n[0],n[1],n.length>2?n[2]+90:90]):(n=r(),[n[0],n[1],n[2]-90])};return r([0,0,90]).scale(159.155)};n.geoArea=area;n.geoBounds=bounds;n.geoCentroid=centroid;n.geoCircle=circle;n.geoClipExtent=extent;n.geoContains=contains;n.geoDistance=distance;n.geoGraticule=graticule;n.geoGraticule10=graticule10;n.geoInterpolate=interpolate;n.geoLength=length;n.geoPath=index;n.geoAlbers=albers;n.geoAlbersUsa=albersUsa;n.geoAzimuthalEqualArea=azimuthalEqualArea;n.geoAzimuthalEqualAreaRaw=ot;n.geoAzimuthalEquidistant=azimuthalEquidistant;n.geoAzimuthalEquidistantRaw=at;n.geoConicConformal=conicConformal;n.geoConicConformalRaw=conicConformalRaw;n.geoConicEqualArea=conicEqualArea;n.geoConicEqualAreaRaw=conicEqualAreaRaw;n.geoConicEquidistant=conicEquidistant;n.geoConicEquidistantRaw=conicEquidistantRaw;n.geoEquirectangular=equirectangular;n.geoEquirectangularRaw=equirectangularRaw;n.geoGnomonic=gnomonic;n.geoGnomonicRaw=gnomonicRaw;n.geoIdentity=identity$1;n.geoProjection=projection;n.geoProjectionMutator=projectionMutator;n.geoMercator=mercator;n.geoMercatorRaw=mercatorRaw;n.geoNaturalEarth1=naturalEarth1;n.geoNaturalEarth1Raw=naturalEarth1Raw;n.geoOrthographic=orthographic;n.geoOrthographicRaw=orthographicRaw;n.geoStereographic=stereographic;n.geoStereographicRaw=stereographicRaw;n.geoTransverseMercator=transverseMercator;n.geoTransverseMercatorRaw=transverseMercatorRaw;n.geoRotation=rotation;n.geoStream=geoStream;n.geoTransform=transform;Object.defineProperty(n,"__esModule",{value:true})}));const e=r.geoArea,i=r.geoBounds,o=r.geoCentroid,a=r.geoCircle,c=r.geoClipExtent,u=r.geoContains,l=r.geoDistance,s=r.geoGraticule,f=r.geoGraticule10,p=r.geoInterpolate,g=r.geoLength,v=r.geoPath,d=r.geoAlbers,h=r.geoAlbersUsa,m=r.geoAzimuthalEqualArea,E=r.geoAzimuthalEqualAreaRaw,S=r.geoAzimuthalEquidistant,y=r.geoAzimuthalEquidistantRaw,P=r.geoConicConformal,R=r.geoConicConformalRaw,w=r.geoConicEqualArea,M=r.geoConicEqualAreaRaw,x=r.geoConicEquidistant,L=r.geoConicEquidistantRaw,j=r.geoEquirectangular,b=r.geoEquirectangularRaw,C=r.geoGnomonic,A=r.geoGnomonicRaw,N=r.geoIdentity,I=r.geoProjection,_=r.geoProjectionMutator,$=r.geoMercator,q=r.geoMercatorRaw,z=r.geoNaturalEarth1,T=r.geoNaturalEarth1Raw,G=r.geoOrthographic,F=r.geoOrthographicRaw,U=r.geoStereographic,O=r.geoStereographicRaw,k=r.geoTransverseMercator,D=r.geoTransverseMercatorRaw,X=r.geoRotation,Y=r.geoStream,B=r.geoTransform,Z=r.__esModule;export default r;export{Z as __esModule,d as geoAlbers,h as geoAlbersUsa,e as geoArea,m as geoAzimuthalEqualArea,E as geoAzimuthalEqualAreaRaw,S as geoAzimuthalEquidistant,y as geoAzimuthalEquidistantRaw,i as geoBounds,o as geoCentroid,a as geoCircle,c as geoClipExtent,P as geoConicConformal,R as geoConicConformalRaw,w as geoConicEqualArea,M as geoConicEqualAreaRaw,x as geoConicEquidistant,L as geoConicEquidistantRaw,u as geoContains,l as geoDistance,j as geoEquirectangular,b as geoEquirectangularRaw,C as geoGnomonic,A as geoGnomonicRaw,s as geoGraticule,f as geoGraticule10,N as geoIdentity,p as geoInterpolate,g as geoLength,$ as geoMercator,q as geoMercatorRaw,z as geoNaturalEarth1,T as geoNaturalEarth1Raw,G as geoOrthographic,F as geoOrthographicRaw,v as geoPath,I as geoProjection,_ as geoProjectionMutator,X as geoRotation,U as geoStereographic,O as geoStereographicRaw,Y as geoStream,B as geoTransform,k as geoTransverseMercator,D as geoTransverseMercatorRaw};

